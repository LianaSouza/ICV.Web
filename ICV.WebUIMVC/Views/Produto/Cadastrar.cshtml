@model ICV.WebUIMVC.Models.ProdutoModel
@{
    ViewData["Title"] = "Produtos";
    Layout = "~/Views/Shared/_Layout_New.cshtml";
}

<section>
    <div class="p-3">
        <div class="card shadow p-4">
            <div class="card-body">
                <section>
                    <h2>Cadastrar Produto</h2>
                    <hr />
                </section>
                <section class="row justify-content-center mt-3">
                    <form asp-action="Cadastrar">
                        <div class="row mt-3">
                            <div class="col-sm-6 mt-3">
                                <label>Nome do Produto</label>
                                <input asp-for="NomeProduto" class="form-control" required/>
                            </div>

                            <div class="col-sm-4 mt-3">
                                <label>Categoria</label>
                                <select asp-for="CategoriaProduto" class="form-select" required>
                                    <option value="1" selected>Alimento</option>
                                    <option value="2">Roupa</option>
                                    <option value="3">Brinquedo</option>
                                </select>
                            </div>

                            <div class="col-sm-2 mt-3">
                                <label>Quantidade</label>
                                <input asp-for="QuantidadeProduto" id="quantidade" class="form-control" required/>
                            </div>
                        </div>
                        <div class="col-sm-12 mt-3 text-end">
                            <a asp-action="Index" class="btn btn-secondary mt-4" /><i class="fas fa-arrow-left"></i> Retornar</a>
                            <input asp-action="Cadastrar" type="submit" value="Cadastrar" class="btn btn-success mt-4" data-myValue="@ViewBag.retorno"/>
                        </div>

                    </form>
                </section>
            </div>
        </div>
    </div>
</section>

<script>


    var retorno = "@ViewBag.retorno";
    console.log("Esse"+retorno);



    $(document).ready(function () {

            if (retorno == "Erro" ) {
                const Toast = Swal.mixin({

                    toast: true,

                    position: 'top',

                    showConfirmButton: false,

                    timer: 2000,

                    didOpen: (toast) => {

                        toast.addEventListener('mouseenter', Swal.stopTimer)

                        toast.addEventListener('mouseleave', Swal.resumeTimer)
                    }

                })

                Toast.fire({

                    title: 'Erro ao enviar os dados, revise as informações enviadas.',

                    icon: 'warning',

                    iconColor: 'red',

                })
            }
             if (retorno == "Sucesso" ) {
                const Toast = Swal.mixin({

                    toast: true,

                    position: 'top',

                    showConfirmButton: false,

                    timer: 2000,

                    didOpen: (toast) => {

                        toast.addEventListener('mouseenter', Swal.stopTimer)

                        toast.addEventListener('mouseleave', Swal.resumeTimer)
                    }

                })

                Toast.fire({

                    title: 'Dados enviados com Sucesso!',

                    icon: 'success',

                    iconColor: 'green',

                })
             }
    });

   
</script>


